발해-당 전쟁은 732년 발해가 당나라의 등주를 선제 공격하면서 시작되었다.발해 무왕은 발해의 영토를 계속하여 확장시켰다. 그러나 발해의 북쪽에 위치해 있던 흑수말갈(黑水靺鞨)은 다른 말갈 부족과는 달리 독자적인 세력을 가지고 있었다. 때마침 흑수말갈이 사신을 당나라에 보내 조공하자, 당나라는 흑수말갈을 "흑수주"(黑水州)라 부르며 직접 통치를 시도하였다.이에 무왕은 아우 대문예(大門藝)로 하여금 흑수말갈을 치도록 명하였으나, 흑수말갈을 공격하면 당의 공격을 받을 것을 예측한 대문예가 이를 거역하였다. 그러나 무왕의 완강한 반대로 대문예는 흑수말갈 정벌에 나섰으나 또 다시 공격의 부적절함을 고하였다. 그러자 격노한 무왕은 아우 대문예를 처형하려 하였고, 대문예는 결국 당나라로 망명하고 말았다.이에 당나라의 현종은 대문예를 환대하였고, 대문예를 "좌효기장군"(左驍騎將軍)에 봉하였다. 발해는 대문예를 송환하려고 하였으나 거절당했다. 결국 인안(仁安) 13년 9월, 무왕은 장문휴(張文休)에게 산동반도의 등주를 공격하도록 하였다. 장문휴는 등주를 기습 공격하여 점거하고, 자사(刺史) 위준(韋俊)을 죽이는 전과를 올렸다. 이에 당은 당황하여 신라인 태복경(太僕卿) 김사란(金思蘭)을 통해 신라와 연락하여 지원병을 요청하였다. 신라는 당나라의 요청을 받고, 발해의 남부를 공격하였으나 실패하였다.발해는 이 사건으로 주변국에 위세를 보이게 되었고, 신라와 당은 나당 전쟁 이후 처음으로 우호적인 관계로 변모하였다.